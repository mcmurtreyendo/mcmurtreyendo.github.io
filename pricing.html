<!DOCTYPE html>
<html  >
<head>
  
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/download-419x139.png" type="image/x-icon">
  <meta name="description" content="">
  
  
  <title>Pricing</title>
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/animatecss/animate.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/socicon/css/styles.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Lexend:100,200,300,400,500,600,700,800,900&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lexend:100,200,300,400,500,600,700,800,900&display=swap"></noscript>
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Manrope:200,300,400,500,600,700,800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Manrope:200,300,400,500,600,700,800&display=swap"></noscript>
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Cascadia+Mono:200,300,400,500,600,700,200i,300i,400i,500i,600i,700i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cascadia+Mono:200,300,400,500,600,700,200i,300i,400i,500i,600i,700i&display=swap"></noscript>
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css?v=1EtZL4"><link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css?v=1EtZL4" type="text/css">

  
  
  
</head>
<body>
  
  <section data-bs-version="5.1" class="menu menu2 cid-uVWdtPKdgf" once="menu" id="menu2-2y">
    
    <nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg">
        <div class="container-fluid">
            <div class="navbar-brand">
                <span class="navbar-logo">
                    <a href="">
                        <img src="assets/images/download-419x139.webp" alt="" style="height: 4.4rem;">
                    </a>
                </span>
                
            </div>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbarSupportedContent" data-bs-target="#navbarSupportedContent" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true"><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="index.html">Home</a></li><li class="nav-item dropdown"><a class="nav-link link text-black text-primary dropdown-toggle display-4" href="index.html#header14-1j" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">About</a><div class="dropdown-menu" aria-labelledby="dropdown-976"><a class="text-black text-primary dropdown-item display-4" href="McMurtrey.html">Dr. Lamont McMurtrey</a><a class="text-black text-primary show dropdown-item display-4" href="Loberg.html">Dr. Jeffrey Loberg</a></div></li><li class="nav-item dropdown"><a class="nav-link link text-black text-primary dropdown-toggle display-4" href="index.html#features1-1i" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">Services</a><div class="dropdown-menu" aria-labelledby="dropdown-182"><a class="text-black text-primary dropdown-item display-4" href="RootCanalTherapy.html">Root Canal Therapy</a><a class="text-black text-primary show dropdown-item display-4" href="Retreatment.html">Root Canal Retreatment</a><a class="text-black text-primary dropdown-item display-4" href="Apicoectomy.html">Root Microsurgery</a></div></li>
                    
                    <li class="nav-item dropdown"><a class="nav-link link text-black text-primary dropdown-toggle display-4" href="index.html#content4-1q" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">Forms</a><div class="dropdown-menu" aria-labelledby="dropdown-676"><a class="text-black text-primary dropdown-item display-4" href="https://mydentalpaperwork.mcmurtreyendo.com/" target="_blank">New Patient Paperwork</a><a class="text-black text-primary show dropdown-item display-4" href="pricing.html">Copay Calculator<br></a><a class="text-black text-primary show dropdown-item display-4" href="Insurances.html">Insurances</a><a class="text-black text-primary show dropdown-item display-4" href="page10.html">Pay with Cherry</a><a class="text-black text-primary show dropdown-item display-4" href="PostOpInfo.html">Post Op Info</a></div>
                    </li><li class="nav-item dropdown"><a class="nav-link link text-black text-primary dropdown-toggle display-4" href="index.html#contacts2-1r" data-toggle="dropdown-submenu" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">Referring Doctors</a><div class="dropdown-menu" aria-labelledby="dropdown-495"><a class="text-black text-primary dropdown-item display-4" href="referral.html">Fillable Referral</a><a class="text-black text-primary show dropdown-item display-4" href="assets/files/Screenshot-2025-08-28150943.pdf">Paper Referral</a></div></li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="https://pay.balancecollect.com/m/mcmurteyendodontics" target="_blank">Online Bill Pay</a></li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="ContactUs.html">Contact Us</a></li><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="https://www.lmcmurtreyphotography.com/">Photography</a></li></ul>
                
                <div class="navbar-buttons mbr-section-btn"><a class="btn btn-primary display-4" href="tel:+13034226464">Call Us!</a></div>
            </div>
        </div>
    </nav>
</section>

<section data-bs-version="5.1" class="content5 cid-uW3xbmf7fp" id="content5-38">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-12 col-lg-9">
                
                <h4 class="mbr-section-subtitle mbr-fonts-style mb-4 display-2">Clarity and Confidence in Your Care</h4>
                <p class="mbr-text mbr-fonts-style display-7">At McMurtrey Endodontics, we believe patients deserve clear information about their treatment options and costs. That’s why we’ve created this simple insurance calculator to give you an upfront estimate of your portion.<br><br>To use the calculator:<br>1. Select your insurance provider.<br>2. Choose the procedure you’re considering.<br>3. Enter your coverage details, remaining annual maximum, and deductible.<br>4. Click Calculate to see your estimated cost.<br><br>This tool is designed to give you peace of mind before your visit.</p>
                <p class="mbr-text mbr-fonts-style display-4"><em> * Final costs may vary depending on actual work performed, your plan, and insurer’s determination.</em></p>
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" id="share3-37" class="calc2 cid-uVYA3dJv65" aria-labelledby="calc2-title">
    

  <div class="calc2-wrap">
    <h2>Estimate Calculator</h2>

    <div class="calc2-card" role="form" aria-describedby="calc2-desc">
      <div id="calc2-desc" class="visually-hidden">Select insurer and procedure, enter coverage %, remaining maximum and deductible, then press Calculate to see your estimated patient portion.</div>

      <!-- Insurer -->
      <fieldset class="calc2-fieldset">
        <legend>Select Your Insurance Provider</legend>
        <div class="calc2-radio-grid">
            
          <label class="calc2-radio"><input type="radio" name="insurer" value="noins" checked=""> <span>No Insurance</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="Delta" required=""> <span>Delta</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="uhc"> <span>United Healthcare</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="guardian"> <span>Guardian</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="B"> <span>B</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="anthem"> <span>Anthem</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="cigna"> <span>Cigna</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="delta" required=""> <span>Delta</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="uhc"> <span>United Healthcare</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="guardian"> <span>Guardian</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="anthem"> <span>Anthem</span></label>
          <label class="calc2-radio"><input type="radio" name="insurer" value="cigna"> <span>Cigna</span></label>
        </div>
      </fieldset>

      <!-- Procedure -->
      <fieldset class="calc2-fieldset">
        <legend>Select Needed Procedure</legend>
        <div class="calc2-radio-grid">
          <label class="calc2-radio"><input type="radio" name="procedure" value="evaluation" required="" checked=""> <span>Evaluation</span></label>
          <label class="calc2-radio"><input type="radio" name="procedure" value="rootCanal"> <span>Root Canal</span></label>
          <label class="calc2-radio"><input type="radio" name="procedure" value="retx"> <span>Retreatment</span></label>
          <label class="calc2-radio"><input type="radio" name="procedure" value="rootSurgery"> <span>Root Surgery</span></label>
        </div>
      </fieldset>

     <fieldset class="calc2-fieldset">
       <legend>Enter Tooth Number Needing Treatment</legend>
         <div class="calc2-input">
           <input type="number" id="toothNum" name="toothNum" min="1" max="32" placeholder="Enter 1–32" required="">
           <label for="toothNum">Tooth Number</label>
         </div>
       <small style="font-size:0.85rem;color:#666;">Enter tooth number (1–32). Pricing changes depending on the tooth needing work.</small>
     </fieldset>

        
      <!-- Inputs -->
      <div class="calc2-inputs">
        <div class="calc2-input">
          <input id="endoCov" type="number" inputmode="decimal" min="0" max="100" step="0.01" required="" placeholder="Endodontics Coverage eg. 80%">
          <label for="endoCov">Endodontics Coverage %</label>
        </div>
        
        <div class="calc2-input">
          <input id="diagCov" type="number" inputmode="decimal" min="0" max="100" step="0.01" required="" placeholder="Diagnostic Coverage eg. 100%">
          <label for="diagCov">Diagnostic Coverage %</label>
        </div>
          
        <div class="calc2-input">
          <input id="maxRemain" type="number" inputmode="decimal" min="0" step="0.01" required="" placeholder="Remaining Maximum eg. $1257.00">
          <label for="maxRemain">Remaining Annual Maximum ($)</label>
        </div>

        <div class="calc2-input">
          <input id="deductRemain" type="number" inputmode="decimal" min="0" step="0.01" required="" placeholder="Remaining Deductible eg. $50">
          <label for="deductRemain">Remaining Deductible ($)</label>
        </div>
      </div>

      <!-- Actions -->
      <div class="calc2-actions">
        <button id="calc2-btn" class="calc2-btn" type="button">Calculate</button>
        <button id="calc2-reset" class="calc2-reset" type="button" aria-label="Reset">Reset</button>
        <!--<button id="calc2-print" class="calc2-btn" type="button">  Print  </button>-->
      </div>
      
      


      <!-- Result -->
      <output id="calc2-result" class="calc2-result" for="calc2-btn" aria-live="polite" hidden="">
  <!-- TWO TOTALS -->
  <div class="calc2-total">Treatment total (incl. CBCT): <strong id="calc2-total-treatment">$0.00</strong></div>
  <div class="calc2-total">Treatment + Evaluation: <strong id="calc2-total-all">$0.00</strong></div>

  <div class="calc2-breakdown">
    <div><span>Procedure Fee:</span><strong id="calc2-fee">$0.00</strong></div>
    <div><span>Deductible Applied:</span><strong id="calc2-deduct">$0.00</strong></div>

    <div><span>Insurance Pays (after max):</span><strong id="calc2-ins">$0.00</strong></div>

    <!-- NEW: CBCT and Evaluation patient portions (each shown as a patient portion line item) -->
    <div><span>CBCT (3D imaging) patient portion:</span><strong id="calc2-cbct">$0.00</strong></div>
    <div><span>Evaluation patient portion:</span><strong id="calc2-evalcopay">$0.00</strong></div>

    <div><span>Max Remaining After:</span><strong id="calc2-maxleft">$0.00</strong></div>
  </div>

  <p class="calc2-note">
    <strong><em style="font-size: 1.2em;">This is an estimate only.</em></strong> 
    Final patient portion may change after insurer adjudication and plan rules.
    We include a CBCT (D0364) on every case to ensure safe, accurate treatment.
    <em>Most plans do not cover CBCT; some may cover depending on the plan.</em>
  </p>
    </output>

    </div>
  </div>
</section>

<section data-bs-version="5.1" class="content5 cid-uW3AA4CZ8d" id="content5-39">
    
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-12 col-lg-10">
                
              
            </div>
        </div>
    </div>
</section>

<section data-bs-version="5.1" class="footer3 cid-uVWdtQCUEE mbr-reveal" once="footers" id="footer3-30">

    

    

    <div class="container">
        <div class="row align-center mbr-white">
            <div class="row row-links">
                <ul class="foot-menu">
                    
                    
                    
                    
                    
                <li class="foot-menu-item mbr-fonts-style display-7"><a href="" class="text-white text-primary">Home</a></li><li class="foot-menu-item mbr-fonts-style display-7"><a href="ContactUs.html" class="text-white text-primary">Contact Us</a></li><li class="foot-menu-item mbr-fonts-style display-7"><a href="https://pay.balancecollect.com/m/mcmurteyendodontics" class="text-white">Bill Pay</a></li></ul>
            </div>
            
            <div class="row row-copirayt">
                <p class="mbr-text mb-0 mbr-fonts-style mbr-white align-center display-7">
                    © Copyright 2025 McMurtrey Endodontics</p>
            </div>
        </div>
    </div>
</section>


<script src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/smoothscroll/smooth-scroll.js"></script>
  <script src="assets/ytplayer/index.js"></script>
  <script src="assets/dropdown/js/navbar-dropdown.js"></script>
  <script src="assets/theme/js/script.js"></script>
  
  
  <script>
    (function () {
        // --- FEES: per-tooth objects for EVERY procedure (ready for editing) ---
        var FEES = {
            delta: {
                evaluation: { anterior: 76, bicuspid: 76, molar: 76 },
                rootCanal: { anterior: 760, bicuspid: 760, molar: 760 },
                rootSurgery: { anterior: 840, bicuspid: 840, molar: 840 },
                retx: { anterior: 900, bicuspid: 900, molar: 900 },
                cbct: { anterior: 200, bicuspid: 200, molar: 200 }
            },
            uhc: {
                evaluation: { anterior: 94, bicuspid: 94, molar: 94 },
                rootCanal: { anterior: 720, bicuspid: 720, molar: 720 },
                rootSurgery: { anterior: 800, bicuspid: 800, molar: 800 },
                retx: { anterior: 900, bicuspid: 900, molar: 900 },
                cbct: { anterior: 132, bicuspid: 132, molar: 132 }
            },
            guardian: {
                evaluation: { anterior: 160, bicuspid: 160, molar: 160 },
                rootCanal: { anterior: 790, bicuspid: 790, molar: 790 },
                rootSurgery: { anterior: 880, bicuspid: 880, molar: 880 },
                retx: { anterior: 900, bicuspid: 900, molar: 900 },
                cbct: { anterior: 200, bicuspid: 200, molar: 200 }
            },
            aetna: {
                evaluation: { anterior: 150, bicuspid: 150, molar: 150 },
                rootCanal: { anterior: 780, bicuspid: 780, molar: 780 },
                rootSurgery: { anterior: 860, bicuspid: 860, molar: 860 },
                retx: { anterior: 900, bicuspid: 900, molar: 900 },
                cbct: { anterior: 200, bicuspid: 200, molar: 200 }
            },
            anthem: {
                evaluation: { anterior: 155, bicuspid: 155, molar: 155 },
                rootCanal: { anterior: 785, bicuspid: 785, molar: 785 },
                rootSurgery: { anterior: 870, bicuspid: 870, molar: 870 },
                retx: { anterior: 900, bicuspid: 900, molar: 900 },
                cbct: { anterior: 200, bicuspid: 200, molar: 200 }
            },
            cigna: {
                evaluation: { anterior: 145, bicuspid: 145, molar: 145 },
                rootCanal: { anterior: 770, bicuspid: 770, molar: 770 },
                rootSurgery: { anterior: 850, bicuspid: 850, molar: 850 },
                retx: { anterior: 900, bicuspid: 900, molar: 900 },
                cbct: { anterior: 200, bicuspid: 200, molar: 200 }
            }
        };

        // Self-pay / cash schedule — per-tooth for every procedure too
        var CASH = {
            evaluation: { anterior: 122, bicuspid: 122, molar: 122 },
            rootCanal: { anterior: 1080, bicuspid: 1250, molar: 1425 },
            rootSurgery: { anterior: 1120, bicuspid: 1120, molar: 1120 },
            retx: { anterior: 900, bicuspid: 900, molar: 900 },
            cbct: { anterior: 200, bicuspid: 200, molar: 200 }
        };

        // Coverage defaults
        var COVERAGE_DEFAULTS = {
            delta: { endo: 0.8, diag: 1.0, cbct: 0.0 },
            uhc: { endo: 0.8, diag: 0.8, cbct: 0.0 },
            guardian: { endo: 0.8, diag: 0.8, cbct: 0.0 },
            aetna: { endo: 0.8, diag: 0.8, cbct: 0.0 },
            anthem: { endo: 0.8, diag: 0.8, cbct: 0.0 },
            cigna: { endo: 0.8, diag: 0.8, cbct: 0.0 },
            noins: { endo: 0.0, diag: 0.0, cbct: 0.0 }
        };

        // --- helpers (unchanged) ---
        function $(sel, root) { return (root || document).querySelector(sel); }
        function root() { return document.getElementById('insurance-calculator'); }
        function fmt(n) { return Number(n).toLocaleString('en-US', { style: 'currency', currency: 'USD' }); }
        function clamp(n, a, b) { return Math.min(Math.max(n, a), b); }
        function readPct(el) {
            var raw = parseFloat(el.value);
            if (isNaN(raw)) return NaN;
            var val = raw > 1 ? raw / 100 : raw;
            return clamp(val, 0, 1);
        }
        function getInsurer(r) { var c = $('input[name="insurer"]:checked', r); return c ? String(c.value).toLowerCase() : ''; }
        function getProcedure(r) { var c = $('input[name="procedure"]:checked', r); return c ? String(c.value) : ''; }

        // Map ADA tooth numbers (1–32) into categories
        function mapToothCategory(num) {
            var n = parseInt(num, 10);
            if (isNaN(n) || n < 1 || n > 32) return 'anterior';
            if ((n >= 6 && n <= 11) || (n >= 22 && n <= 27)) return 'anterior';
            if ((n >= 4 && n <= 5) || (n >= 12 && n <= 13) || (n >= 20 && n <= 21) || (n >= 28 && n <= 29)) return 'bicuspid';
            return 'molar';
        }

        // Resolve a fee given table + procedure + tooth category
        function feeFor(table, proc, toothCat) {
            var v = table[proc];
            if (v == null) return null;
            if (typeof v === 'number') return v; // (still supported)
            if (typeof v === 'object') {
                if (v[toothCat] != null) return v[toothCat];
                return v.anterior ?? v.bicuspid ?? v.molar ?? null;
            }
            return null;
        }

        function prefillCoverage(r) {
            var d = COVERAGE_DEFAULTS[getInsurer(r)];
            var endo = $('#endoCov', r), diag = $('#diagCov', r);
            if (!d || !endo || !diag) return;
            if (!endo.value) endo.value = (d.endo * 100).toFixed(0);
            if (!diag.value) diag.value = (d.diag * 100).toFixed(0);
        }

        function reveal(out) {
            if (!out) return;
            out.hidden = false;
            out.removeAttribute('hidden');
            out.style.display = 'block';
        }

        function estimateLineItem(fee, covPct, maxRemain, dedRemain, deductibleApplies) {
            var applied = 0;
            if (deductibleApplies && covPct > 0) {
                applied = Math.min(Math.max(0, dedRemain), fee);
            }
            var eligible = Math.max(0, fee - applied);
            var insBeforeMax = eligible * covPct;
            var insPays = Math.min(insBeforeMax, Math.max(0, maxRemain));
            var patient = Math.max(0, fee - insPays);
            var maxLeft = Math.max(0, maxRemain - insPays);
            var dedLeft = Math.max(0, dedRemain - applied);
            return { patient: patient, insurance: insPays, appliedDeductible: applied, maxLeft: maxLeft, dedLeft: dedLeft };
        }

        function calculate(r) {
            var endo = $('#endoCov', r), diag = $('#diagCov', r), max = $('#maxRemain', r), ded = $('#deductRemain', r);
            var box = $('#calc2-result', r),
                p = $('#calc2-patient', r), fee = $('#calc2-fee', r),
                dd = $('#calc2-deduct', r), cov = $('#calc2-cov', r), ins = $('#calc2-ins', r), left = $('#calc2-maxleft', r);

            var outCbct = $('#calc2-cbct', r),
                outEval = $('#calc2-evalcopay', r),
                outTotalTreat = $('#calc2-total-treatment', r),
                outTotalAll = $('#calc2-total-all', r);

            if (!endo || !diag || !max || !ded || !box) return;

            var insr = getInsurer(r), proc = getProcedure(r);
            if (!insr || !proc) return;

            var toothInput = $('#toothNum', r);
            var toothCat = mapToothCategory(toothInput ? toothInput.value : null);

            if (insr !== 'noins') {
                var need = [endo, diag, max, ded];
                for (var i = 0; i < need.length; i++) { if (!need[i].reportValidity()) return; }
            } else {
                if (!endo.value) endo.value = '0';
                if (!diag.value) diag.value = '0';
                if (!max.value) max.value = '0';
                if (!ded.value) ded.value = '0';
            }

            var fees = (insr === 'noins') ? CASH : (FEES[insr] || {});
            var base = feeFor(fees, proc, toothCat);
            if (base == null) base = feeFor(CASH, proc, toothCat);
            var cbctFee = feeFor(fees, 'cbct', toothCat); if (cbctFee == null) cbctFee = feeFor(CASH, 'cbct', toothCat);
            var evalFee = feeFor(fees, 'evaluation', toothCat); if (evalFee == null) evalFee = feeFor(CASH, 'evaluation', toothCat);

            var endoPct = (insr === 'noins') ? 0 : readPct(endo);
            var diagPct = (insr === 'noins') ? 0 : readPct(diag);
            if (isNaN(endoPct) || isNaN(diagPct)) { alert('Enter valid coverage percentages.'); return; }
            var cbctPct = (insr === 'noins') ? 0 : (COVERAGE_DEFAULTS[insr] ? COVERAGE_DEFAULTS[insr].cbct : 0.0);

            var maxStart = (insr === 'noins') ? 0 : Math.max(0, parseFloat(max.value || '0'));
            var dedStart = (insr === 'noins') ? 0 : Math.max(0, parseFloat(ded.value || '0'));

            if (proc === 'evaluation') {
                var evalRes = estimateLineItem(evalFee, diagPct, maxStart, dedStart, false);
                var cbctRes = estimateLineItem(cbctFee, cbctPct, evalRes.maxLeft, evalRes.dedLeft, false);

                var treatTotalRow = outTotalTreat ? outTotalTreat.parentElement : null;
                var allTotalRow = outTotalAll ? outTotalAll.parentElement : null;

                if (fee) fee.textContent = fmt(evalFee);
                if (dd) dd.textContent = fmt(0);
                if (cov) cov.textContent = (diagPct * 100).toFixed(0) + '%';
                if (ins) ins.textContent = fmt(evalRes.insurance + cbctRes.insurance);
                if (left) left.textContent = fmt(cbctRes.maxLeft);
                if (p) p.textContent = fmt(evalRes.patient + cbctRes.patient);

                if (outCbct) outCbct.textContent = fmt(cbctRes.patient);
                if (outEval) outEval.textContent = fmt(evalRes.patient);
                if (outTotalTreat) outTotalTreat.textContent = fmt(0);
                if (outTotalAll) outTotalAll.textContent = fmt(evalRes.patient + cbctRes.patient);

                if (treatTotalRow) treatTotalRow.style.display = 'none';
                if (allTotalRow) {
                    var n = allTotalRow.firstChild;
                    if (n && n.nodeType === 3) { n.nodeValue = 'Evaluation total (incl. CBCT): '; }
                }

                reveal(box);
                return;
            }

            // Treatment visit (Treatment + CBCT + Evaluation)
            var maxRemain = maxStart, dedRemain = dedStart;

            var procRes = estimateLineItem(base, endoPct, maxRemain, dedRemain, true);
            maxRemain = procRes.maxLeft; dedRemain = procRes.dedLeft;

            var cbctRes2 = estimateLineItem(cbctFee, cbctPct, maxRemain, dedRemain, false);
            maxRemain = cbctRes2.maxLeft;

            var evalRes2 = estimateLineItem(evalFee, diagPct, maxStart, dedStart, false);

            var treatmentPatient = procRes.patient + cbctRes2.patient;
            var treatmentPlusEval = treatmentPatient + evalRes2.patient;

            if (fee) fee.textContent = fmt(base);
            if (dd) dd.textContent = fmt(procRes.appliedDeductible);
            if (cov) cov.textContent = (endoPct * 100).toFixed(0) + '%';
            if (ins) ins.textContent = fmt(procRes.insurance);
            if (left) left.textContent = fmt(maxRemain);
            if (outCbct) outCbct.textContent = fmt(cbctRes2.patient);
            if (outEval) outEval.textContent = fmt(evalRes2.patient);

            if (p) p.textContent = fmt(treatmentPatient);

            var treatTotalRow = outTotalTreat ? outTotalTreat.parentElement : null;
            var allTotalRow = outTotalAll ? outTotalAll.parentElement : null;

            if (treatTotalRow) treatTotalRow.style.display = '';
            if (outTotalTreat) outTotalTreat.textContent = fmt(procRes.patient);
            if (treatTotalRow && treatTotalRow.firstChild && treatTotalRow.firstChild.nodeType === 3) {
                treatTotalRow.firstChild.nodeValue = 'Procedure only (no CBCT/Eval): ';
            }

            if (outTotalAll) outTotalAll.textContent = fmt(treatmentPlusEval);
            if (allTotalRow && allTotalRow.firstChild && allTotalRow.firstChild.nodeType === 3) {
                allTotalRow.firstChild.nodeValue = 'Total for today’s visit: ';
            }

            reveal(box);
        }

        function resetCalc(r) {
            var endo = $('#endoCov', r), diag = $('#diagCov', r), max = $('#maxRemain', r), ded = $('#deductRemain', r), box = $('#calc2-result', r);
            if (endo) endo.value = ''; if (diag) diag.value = ''; if (max) max.value = ''; if (ded) ded.value = '';
            if (box) { box.hidden = true; box.style.display = 'none'; }
        }

        document.addEventListener('click', function (e) {
            var t = e.target;
            if (!t) return;

            if (t.id === 'calc2-btn') {
                e.preventDefault();
                calculate(root());
            }
            else if (t.id === 'calc2-reset') {
                e.preventDefault();
                resetCalc(root());
            }
            else if (t.id === 'calc2-print') {
                e.preventDefault();
                window.print();
            }
        });


        document.addEventListener('change', function (e) {
            var t = e.target; if (!t || t.name !== 'insurer') return;
            var r = root(); if (!r) return;
            var val = String(t.value).toLowerCase();

            var endo = $('#endoCov', r), diag = $('#diagCov', r), max = $('#maxRemain', r), ded = $('#deductRemain', r);
            if (!endo || !diag || !max || !ded) return;

            if (val === 'noins') {
                endo.value = '0'; diag.value = '0'; max.value = '0'; ded.value = '0';
            } else {
                if (!endo.value) endo.value = '';
                if (!diag.value) diag.value = '';
                prefillCoverage(r);
            }
        });

        if (document.readyState !== 'loading') { var r0 = root(); if (r0) prefillCoverage(r0); }
        else document.addEventListener('DOMContentLoaded', function () { var r0 = root(); if (r0) prefillCoverage(r0); }, { once: true });
    })();
</script>
 <div id="scrollToTop" class="scrollToTop mbr-arrow-up"><a style="text-align: center;"><i class="mbr-arrow-up-icon mbr-arrow-up-icon-cm cm-icon cm-icon-smallarrow-up"></i></a></div>
    <input name="animation" type="hidden">
  </body>
</html>
